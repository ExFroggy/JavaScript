<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <script src="libs.js"></script>
 
</head>
<body>

  <script>

    function deepEqual(a, b) {
      var state = true;

      if (a === b) state &= true; else {        
        if (typeof(a) === "object") {
          for (var key in a) {
            state &= deepEqual(a[key], b[key]);
          }
        } else if (a !== b) state &= false;
      }
      
      //проверка не только a==b, но и  b==a
      if (!arguments[2]) state &= deepEqual(b, a, "false");
      
      return Boolean(state);
    }
  
    var obj = {here: {is: 'an'}, object: 2};    
    
    console.log(deepEqual(obj, obj));                           // → true
    console.log(deepEqual(obj, {here: 1, object: 2}));          // → false
    console.log(deepEqual(obj, {here: {is: "an"}, object: 2})); // → true
    
  </script>

   <script src="test.js"></script>
</body>
</html>